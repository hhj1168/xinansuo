<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的祈愿记录 - 心安所寄</title>
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="records.css">
</head>

<body>
    <!-- 顶部导航 -->
    <header class="records-header">
        <div class="header-container">
            <button class="back-btn" onclick="location.href='index.html'">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7" />
                </svg>
            </button>
            <h1 class="header-title">祈愿记录</h1>
            <div class="header-actions">
                <button id="searchToggle" class="action-icon-btn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                </button>
            </div>
        </div>

        <!-- 搜索栏 (默认隐藏) -->
        <div id="searchBar" class="search-bar hidden">
            <input type="text" id="searchInput" placeholder="搜索神明名称或心愿内容...">
            <button id="clearSearch">×</button>
        </div>

        <!-- 分类筛选栏 -->
        <nav class="filter-tabs">
            <button class="filter-tab active" data-category="all">全部</button>
            <button class="filter-tab" data-category="fertility">生育</button>
            <button class="filter-tab" data-category="love">姻缘</button>
            <button class="filter-tab" data-category="career">事业</button>
            <button class="filter-tab" data-category="wealth">财富</button>
            <button class="filter-tab" data-category="health">健康</button>
            <button class="filter-tab" data-category="safety">平安</button>
        </nav>
    </header>

    <main class="records-main">
        <!-- 统计简报 -->
        <section class="stats-banner">
            <div class="stat-item">
                <span class="stat-value" id="totalCount">0</span>
                <span class="stat-label">总祈愿</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <span class="stat-value" id="topCount">0</span>
                <span class="stat-label">上吉签</span>
            </div>
        </section>

        <!-- 记录列表容器 -->
        <div id="recordsList" class="records-list">
            <!-- 加载状态 -->
            <div class="list-message">正在加载您的缘分记录...</div>
        </div>

        <!-- 空状态 -->
        <div id="emptyState" class="empty-state hidden">
            <div class="empty-icon">🏮</div>
            <p>暂无祈愿记录</p>
            <p class="empty-sub">诚心祈愿,念念不忘,必有回响</p>
            <button class="btn-primary" onclick="location.href='index.html'">去开启首次祈愿</button>
        </div>
    </main>

    <!-- 底部填充 (为固定导航留位) -->
    <div class="bottom-padding"></div>

    <!-- 确认删除弹窗 -->
    <div id="deleteModal" class="modal hidden">
        <div class="modal-content">
            <h3>删除记录</h3>
            <p>确定要永久删除这条祈愿记录吗？</p>
            <div class="modal-btns">
                <button class="modal-btn-cancel">取消</button>
                <button class="modal-btn-confirm">确认删除</button>
            </div>
        </div>
    </div>

    <!-- 脚本引用 -->
    <script src="data-deities.js"></script>
    <script src="data-fortunes-part1.js"></script>
    <script src="data-fortunes-part2.js"></script>
    <script src="data-fortunes-part3.js"></script>
    <script src="data-fortunes-part4.js"></script>
    <script src="data-fortunes-part5.js"></script>
    <script src="data-fortunes-part6.js"></script>
    <script src="data-manager.js"></script>
    <script src="records.js"></script>
</body>

</html>